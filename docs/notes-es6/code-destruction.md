---
title: 解构赋值
---

## 概述

解构赋值是ES6的新特性，是对赋值运算符的扩展。针对数组或者对象进行模式匹配，然后对其中的变量进行赋值。

对象的解构是利用对象的属性名，而数组的解构是利用位置（坐标）的一一对应。

## 解构赋值

### 数组模型的解构

- 基本

```js
const [a,b] = [1,2]
// a = 1;b = 2;
```

- 可嵌套

```js
const [a, [b]] = [1, [2]]
// a = 1;b = 2;
```

- 可忽略

```js
const [a, ,b] = [1, 2, 3]
// a = 1;b = 3;
```

- 不完全解构

```js
const [a=1, b] = []
// a = 1;b = undefined;
```

- 剩余运算符

```js
const [a, ...b] = [1, 2, 3]
// a = 1;b = [2, 3];
```

- 字符串等

在数组的解构中，若目标为可遍历对象，皆可进行解构赋值。

```js
let [a, b, c] = 'sgs';
// a = 's';b = 'g';c = 's';
```

- 解构默认值

当解构模式有匹配结果，且匹配结果为undefined时，会触发默认值作为返回结果。

```js
let [a=1] = []
// a = 1;

let [a=1, b=a] = []
// a = 1;b = 1;

let [a=1, b=a] = [3];
// a = 3;b = 3;

let [a=1, b=a] = [3, 4];
// a = 3;b = 4;
```

### 对象模型的解构

- 基本

```js
let {a} = {a:1}
// a = 1

let {a:b} = {a:1}
// b = 1
```

- 可嵌套可忽略

```js
let {a:[b,{c}] = {a: [1, {c: 2}]}
// b = 1;c = 2;
```

- 不完全解构

```js
let {a,b} = {a:1}
// a = 1;b = undefined;
```

- 剩余运算符

```js
let {a,b,...c} = {a:1,b:2,c:3,d:4}
// a = 1;b = 2;c = {c:3,d:4}
```

- 解构默认值

```js
let {a=3,b=5} = {a:6}
// a = 6;b = 5;

let {a:aa=3,b:bb=5} = {a:6}
// aa = 6;bb = 5;
```

## 解构赋值是深拷贝还是浅拷贝

- 深拷贝：修改新拷贝的变量不会影响原有的值称为深拷贝。默认情况下基本数据类型都是深拷贝。

- 浅拷贝：修改新拷贝的变量会改变原有的值称为浅拷贝。默认情况下引用类型都是浅拷贝。

**解构赋值对object类型都是浅拷贝，对基本类型都是深拷贝。**