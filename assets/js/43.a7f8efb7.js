(window.webpackJsonp=window.webpackJsonp||[]).push([[43],{247:function(t,a,s){"use strict";s.r(a);var n=s(0),e=Object(n.a)({},(function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h2",{attrs:{id:"事件和事件流"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#事件和事件流"}},[t._v("#")]),t._v(" 事件和事件流")]),t._v(" "),s("h3",{attrs:{id:"事件"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#事件"}},[t._v("#")]),t._v(" 事件")]),t._v(" "),s("p",[t._v("事件就是HTML文档或浏览器中发生的交互操作，使网页具有交互性。")]),t._v(" "),s("h3",{attrs:{id:"事件流"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#事件流"}},[t._v("#")]),t._v(" 事件流")]),t._v(" "),s("p",[t._v("由于DOM是一个树形结构，在父子节点绑定事件时，触发子节点，就会存在顺序问题，设计事件流：")]),t._v(" "),s("p",[t._v("事件流会有三个阶段：")]),t._v(" "),s("ul",[s("li",[t._v("事件捕获阶段（Capture Phase）")])]),t._v(" "),s("p",[t._v("事件从外向内传播（从"),s("code",[t._v("document")]),t._v("到触发节点"),s("code",[t._v("node")]),t._v("），依次检查是否绑定事件，有则触发监听回调函数。")]),t._v(" "),s("ul",[s("li",[t._v("事件处理阶段（Target Phase）")])]),t._v(" "),s("p",[t._v("事件达到目标元素，触发目标元素的监听函数。")]),t._v(" "),s("ul",[s("li",[t._v("事件冒泡阶段（Bubbling Phase）")])]),t._v(" "),s("p",[t._v("事件从内向外传播（从触发节点"),s("code",[t._v("node")]),t._v("到"),s("code",[t._v("document")]),t._v("），以此检查是否绑定事件，有则触发监听回调函数。")]),t._v(" "),s("h2",{attrs:{id:"事件模型"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#事件模型"}},[t._v("#")]),t._v(" 事件模型")]),t._v(" "),s("p",[t._v("事件模型分为三种：")]),t._v(" "),s("ul",[s("li",[s("p",[t._v("原始事件模型（DOM0级）")])]),t._v(" "),s("li",[s("p",[t._v("标准事件模型（DOM2级）")])]),t._v(" "),s("li",[s("p",[t._v("IE事件模型（基本不用）")])])]),t._v(" "),s("h3",{attrs:{id:"原始事件模型"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#原始事件模型"}},[t._v("#")]),t._v(" 原始事件模型")]),t._v(" "),s("p",[t._v("事件绑定监听函数比较简单，有两种方式：")]),t._v(" "),s("ul",[s("li",[t._v("HTML代码中直接绑定")])]),t._v(" "),s("div",{staticClass:"language-html extra-class"},[s("pre",{pre:!0,attrs:{class:"language-html"}},[s("code",[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("span")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("onclick")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("fun()"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("click"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("span")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])])]),s("ul",[s("li",[t._v("通过js绑定")])]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" btn "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" document"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("getElementById")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"#button"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" fn "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("fn")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\nbtn"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("onclick "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" fn\n")])])]),s("ul",[s("li",[t._v("特性")])]),t._v(" "),s("p",[t._v("绑定快。")]),t._v(" "),s("p",[t._v("只支持冒泡，不支持捕获。")]),t._v(" "),s("p",[t._v("同一个类型只能绑定一次，后面会覆盖前面，清空的话设置为 "),s("code",[t._v("null")]),t._v(" 即可。")]),t._v(" "),s("h3",{attrs:{id:"标准事件模型"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#标准事件模型"}},[t._v("#")]),t._v(" 标准事件模型")]),t._v(" "),s("p",[t._v("该事件模型中，上述的三个任务流阶段都有可能存在。")]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" btn "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" document"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("getElementById")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"#button"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nbtn"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("addEventListener")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("eventType"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("handler"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("useCapture"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nbtn"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("removeListener")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("eventType"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("handler"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("useCapture"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),s("p",[t._v("参数如下：")]),t._v(" "),s("ul",[s("li",[s("p",[s("code",[t._v("eventType")]),t._v(" 指定时间类型")])]),t._v(" "),s("li",[s("p",[s("code",[t._v("handler")]),t._v(" 处理回调函数")])]),t._v(" "),s("li",[s("p",[s("code",[t._v("useCapture")]),t._v(" 是一个boolean值，指定是否在捕获阶段处理，默认为false")])])]),t._v(" "),s("p",[t._v("特性：")]),t._v(" "),s("ul",[s("li",[t._v("同一个事件可以绑定多个函数")])]),t._v(" "),s("h3",{attrs:{id:"ie事件模型"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#ie事件模型"}},[t._v("#")]),t._v(" IE事件模型")]),t._v(" "),s("p",[t._v("只有事件处理阶段和事件冒泡阶段。")]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[t._v("document"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("attachEvent")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("eventType"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" handler"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\ndocument"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("detachEvent")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("eventType"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" handler"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])])])}),[],!1,null,null,null);a.default=e.exports}}]);